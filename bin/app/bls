#!/usr/bin/env bash
DIR="$(dirname "$(readlink -f "$0")")"
if [[ -z $RADIO_STREAM_CONTAINER ]]; then $DIR/../util/container_run.sh $(basename "$0") $*; exit 0; fi

function blsf() {
    (
        echo "-----|-----|-----|-----|-----";
        echo "Artist|Title|Last played|Count|Rating";
        echo "-----|-----|-----|-----|-----";
        beet ls -f '$artist|$title|$lastplayed|$playcount|$rating' "$@"
    ) | head -n 20 | column -s \| -t
}

echo -e "\e[33mRunning: beet ls $*\e[39m"

blsf $*
